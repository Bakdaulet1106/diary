
<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–¶–∏—Ñ—Ä–æ–≤–æ–π –¥–Ω–µ–≤–Ω–∏–∫</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="theme-background" class="theme-background"></div>
    
    <div class="container">
        <header class="header">
            <h1>üìî –ú–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –¥–Ω–µ–≤–Ω–∏–∫</h1>
            <div class="theme-selector">
                <label for="theme">–í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–º—É:</label>
                <select id="theme" onchange="changeTheme(this.value)">
                    <option value="sunny">‚òÄÔ∏è –°–æ–ª–Ω–µ—á–Ω–æ</option>
                    <option value="cloudy">‚òÅÔ∏è –û–±–ª–∞—á–Ω–æ</option>
                    <option value="rainy">üåßÔ∏è –î–æ–∂–¥—å</option>
                    <option value="snowy">‚ùÑÔ∏è –°–Ω–µ–≥</option>
                    <option value="matrix">üíö –ú–∞—Ç—Ä–∏—Ü–∞</option>
                </select>
            </div>
        </header>

        <main class="main-content">
            <div class="editor-section">
                <div class="entry-form">
                    <input type="text" id="entry-title" placeholder="–ó–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø–∏—Å–∏..." class="title-input">
                    
                    <div class="toolbar">
                        <button onclick="formatText('bold')" title="–ñ–∏—Ä–Ω—ã–π"><b>B</b></button>
                        <button onclick="formatText('italic')" title="–ö—É—Ä—Å–∏–≤"><i>I</i></button>
                        <button onclick="formatText('underline')" title="–ü–æ–¥—á–µ—Ä–∫–Ω—É—Ç—ã–π"><u>U</u></button>
                        <button onclick="formatText('justifyLeft')" title="–ü–æ –ª–µ–≤–æ–º—É –∫—Ä–∞—é">‚¨ÖÔ∏è</button>
                        <button onclick="formatText('justifyCenter')" title="–ü–æ —Ü–µ–Ω—Ç—Ä—É">‚¨ÖÔ∏è‚û°Ô∏è</button>
                        <button onclick="formatText('justifyRight')" title="–ü–æ –ø—Ä–∞–≤–æ–º—É –∫—Ä–∞—é">‚û°Ô∏è</button>
                        <select onchange="formatText('fontSize', this.value)">
                            <option value="1">8pt</option>
                            <option value="3" selected>12pt</option>
                            <option value="4">14pt</option>
                            <option value="5">18pt</option>
                            <option value="6">24pt</option>
                        </select>
                        <input type="color" onchange="formatText('foreColor', this.value)" title="–¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞">
                    </div>

                    <div id="editor" contenteditable="true" class="editor" placeholder="–ù–∞—á–Ω–∏—Ç–µ –ø–∏—Å–∞—Ç—å —Å–≤–æ—é –∑–∞–ø–∏—Å—å..."></div>
                    
                    <div class="file-upload-section">
                        <input type="file" id="file-input" multiple accept="*/*" onchange="handleFiles(this.files)">
                        <label for="file-input" class="file-upload-btn">üìé –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª—ã (–ª—é–±–æ–π —Ä–∞–∑–º–µ—Ä)</label>
                        <div id="file-list" class="file-list"></div>
                    </div>

                    <div class="entry-actions">
                        <button onclick="saveEntry()" class="save-btn">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∑–∞–ø–∏—Å—å</button>
                        <button onclick="clearEditor()" class="clear-btn">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å</button>
                    </div>

                    <div class="storage-info">
                        <h4>–í—Å–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:</h4>
                        <div id="all-files-list" class="all-files-grid"></div>
                        <button onclick="clearAllFiles()" class="clear-all-files-btn">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ñ–∞–π–ª—ã</button>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="qr-section">
                    <h3>QR –∫–æ–¥ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞</h3>
                    <div id="qr-code" class="qr-code"></div>
                    <button onclick="downloadQR()" class="download-btn">‚¨áÔ∏è –°–∫–∞—á–∞—Ç—å QR</button>
                </div>

                <div class="entries-list">
                    <h3>–ú–æ–∏ –∑–∞–ø–∏—Å–∏</h3>
                    <div id="entries-container" class="entries-container"></div>
                </div>
            </div>
        </main>
    </div>

    <script src="db.js"></script>
    <script src="diary.js"></script>
</body>
</html>
